# Automatically generated on 2020-03-28 UTC from https://codemagic.io/app/5e7fd298a2d77c1607b8f7ad/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  build-android:
    name: Build Android
    environment:
      vars:
        IOS_FIREBASE_SECRET: Encrypted(Z0FBQUFBQmVmOTAtWVpMY1pLQjlSLUdqcHZxSlkyZkc0eEs5bl82M1RIUUhBU19LM1AzX2NIZ2tNdFVGMDhKVWtQYUZ4X2hvZi1wRTA5S0gwb0tqS1NSUFRZTXl4MTdKdThLNmFsTGxSdklVTHRtN19CajlOdXllbDNMQ1hsWW4zeVQ2cjNJcU02R010NVJyTm9BMW5LSms4NUY5YWFkLWRfM1liUkg5WDJ4bUk4cDVNd2VHWFBoMjlseUc4bERYRXhuOWRLbnFBRFF6aG9VSW9DQy03LUZiY1V5U2ZkeW1tSTVLeDNIVld3MmhZdUdScFJnUVVqU1pTa2NOTHdtV1hSUEo3S05WYVpjblZvaVR3STRMcGszdnJBR3k2VllDOTVnM2pFU2k0Ym5SLVBNS18xWnRNOE9Ga1lvMElMeGZKT0QwRGd0TGRuU3RiQVhONXlPSDlYRS1Zd0tnYU5ya0dYMktrQUJzVDc2cjN3bnZXZERRcmVmWlFmeFpHQ18xRGdGWW85SGNoVlFGQzB6VWJBeVpLay1ZTGZNUlJOTC1CLXJZNGRZWVgyOGNpTFAtN2pQYVhLMlZrcUFGRVNITFFLOW1BMzBKeWlkY05qZjJUNUtsNUdxYUdnbGxCRTdKSzdhcnh3UjJKaERWbWdxTjU4dmRlY1o5MXo2SWt3YndZYjdUb01HSHh0LWhyWHA3X2ZoelB2d0E4YWU5bGl4SEFDSXpCcDhfWjBHU1pWZU1BWl9Senduby13QUhrUXY3bzhha2dXSldZUlM3Z2J4WGpuRmpCa0ZNWEVkTlBZaU5ZMDBFLVZnX0pBWmhxRG1yWTFhSTJVd0VtVzdLaUlmNHVPREJ6YWR0T2dYLVdTV2hjeHgzU0xCSGJjbDdUY1J3NnB0WjAyckRNX2k1UTBfUklyYVBuZlNaUnVsdGlXWHQwa3B0czJ3NnBSdmpjWXVHQmRwUWRDdHpscVNZUHV4dGY4RHQwU29Eb2F0dk11RFJHMFlnMWpJc3NtcVBtOXZ6NVNQd3JTaEpuM3BSOEVNWXdQQTNNU1VMcDZhZ1VuNXhVeXlYNkhJNHNFUUtrUDEyMHVaZXdodEV0WFVNR3VKeWJ5eWd3a1A3UVY3cWs4dDJLNlN4ZFhHVG56Q2poUDc2WVIwY1FMUTh6LWgweVl2S0hYS05mSFI2TS1MRTNCdjZBeFkwX183cXBwR2c5dlZBNU94UVhQYlBFUU5mQml2M3RCTjZFMGFLMWl5djNTTktySnFvRVNuT3Fsa283dXEwcFBiUzhkSTBiVm9jQXNQTEVzamlsNEVRTmFiWlRvRFNjc1U5NDFOcEpPQVM0OEhaaVVFWXQyTnVJc2d2dzNTRGxVYkQ1R2RYbHhfSnlIcXhDZnpPSE9BYWpyM21WTEV3eDhBb2Z5LVZQSndiOVJBTlhJUlNlS2NzUldMVlFMaWFhSGp4b3ZkMkxTdWVoRjFuUHR4M3lwekFzV0JsOEZ1dVJ1Zjg2YkZmSGFyNjg1NFFJTlBuSDB5Z2VPV3U1VUxNa0VJcVZIZFFTSnhSV0hfU2prMEVuU1BhOUhoY09aNXIwQlFfU0ltVlFrSE42S2dQQmsxcXh5SW5EOU1zbVlWUFBnR3JJeU1FdTRBdWlCX2F2ZVNQRnVhQ0szVUpOT0gtMFU0WEZRTGJ2bGpnTHNYMVBlLTVGbkE5TlpHSHpRb3ZRVWFkUTlSbU1UYlo1M2pXdWxNOFBOR2ptOHN2YnBsa0FNYWhJalpJRVhyYk1hZVk3SUVCVXg2eEc5SXJSVy02c0tEeTVSNHZLa0lPaXEzdWFZaWU4Z05TLVhRdWlydjhqdTllNnR5d1RVREhjZDRPQVNneVB3RU02bHFnXzhkWmFxUXktaXlXRzktNjVGc0ZaYUNUTXRKRFVON3Y2NjBKRUp0X0drNEFGYzNybWRLakRsellsVDJHcDQwLW1KN3hqT0VCQ3A1UzFYRHRyR3BfTmFlbU5QMmt1a0tINVRwRW9hTmlaRndpNVRDd2RETy1LSUZadXFYaHRDWDRTb0w0d2xMeXpTQmVlTzcyaWtwa011RG5nY2UwS3NBeTZsbFF5OFY2Q3dwUnpHbzQxcTg1cW5DalhKVFc3VWN1U0lLMU5femx3M0I5SkhOamlMcDZOb21NN2hXSE5Ld0pXbjRZNVc0V2xNQ3BtZEtuVm1lUnZjRjlVd082R1gyVDJnekZPcjUxalY1U25FWXc5MS1wSUpaTWVLc19pc3JETW5EVjlPWWJGNEk5a0NaTlJwdmZycnF0R2lDS3d6XzZ4THltVm9wdDAxS0xtOVA4ck16Szc0c3pfOFAyZklPUzhLYWJjaTFacGl5RmlWS1B6cTZ4NXA5Z2FEM2dzeUZ6VVRwM25ZRzd3dndXd3l0LVJ0ZHhRM3VyRUdhYlJFREVtdTFGZlhlODVCTVp0T21EQVNqUDduazNCRlJBaFN6UmV3NlNxbU5EWXJkeFk5THhzQ2xjamoxRmFnMlduaF9NUTMxWUUtekN3RHlrTmZLN2Y3ZG9zejdYSHVCQnFWaTFzYVBPZFpBRS05ZzZDRTRhWC03NVZCYW5MTTJxTnJKNEc4NEVhS0Q0SHRYZkhYeTZjRll2YXVnSHRTWlVwMGFobmNZd2dFbkFvbHVJdVlXNUtrbkJtRjVrTWh4RmhETEJYWkp6VlpQaFh6WUpTMl9ZbGd2TnFVTUMyMmJkZEdYajhPRlFpYWJJZTR3NG5pcDl3Z1F1VWlLSXZGdEYwYnNFZDJHRklwalZxZ3dSWkI3TGFVeDIwcThoLXdPRTVRcjk2a21HWjJnZ0NiN1AtVUszQTZidjc3QVFYdkR4RnhmVDJkay1QZ1p0R2dSblltRXZJaldENEpoMGVRRWJCcWlKdGZ6bWZQeXo0UXFhdXFDTUlJUUNpNjFscWZFeW8tZjR6VnhVS0JPYzc2bXotMmtDNzktVDVpRkxtTXB0dmdxbmZCOTNIWWM0LVRUY3lmQTFmS010S09vWU92MWMxYl9DRjd5WmdEdVZENTV1VTl6czlfejFBbzlvR09YT0tXc2dxNmFKaDZ2cHB1aFYtRU5zYTh6X3FnNy1yWXVveHl0TnViQXFCTlFyVGdDQ0VrTUZjU29jV3pIQWtoTDJGREJGNmh1OTVvSnJPN3Vxcm5OUGY3Y3dMNkhjQy1NZ2l0N3VUWlBuZHMwYm1sTEVjUWpqdU9LaEptRktMenV3UTRDeVhKdnl0WWl3dTMxdTBBZEk=)
        ANDROID_FIREBASE_SECRET: Encrypted(Z0FBQUFBQmVmOTAtak9sYlFsRkNZbFBwRzVjQ0kzRWZsNG4ydE9LcU1Rajc4RkFvNUp5bFh3ZkZnRHRycnN4MFh4Vno5SFpXUXZwdXNyTlYyS3UzTkQ0TDh3cy1sWEQ2Y3ZEQjFIZTFrNUxjYXY3RnVqZlMxQ2dobmJueWZubjY3ZEdyWkQyQnJ2ZkRJTVJxc2xBem5oWm9PVUJ3X3huS05CZVJPcFNpbVJOU3pUMmg4TW9PRXR0azdiTk5TN1RaQllhX3BidUtNVG9TOUpHQjdmTFo2bTJpRERsbHZ3LVBLVmUxWjh1TzdGZ1lESHZMekY5X2lpZjZfdHVvVnE2TUNEeldXUWVvNFlaOEh6M2pQM0FWQnZ5RkZScThMb04weEZYZ1ZMZzZ5bmlmOC1OVnFkQjhNQW5UUTNXVVJRalZDRFRZdWNyVDZXSGJRU1JRRUttR3MtTVNETlRsZWJoWkZzckQtQnVCaFZ6MmlHX21CU1JvLVJpdFFvd3J5dkpTUWh1VlJuRFpEYXdFbmZRNXk1dnk4aDlXd1BpRVpvUU0xRlozOEQ5ajBzMFdKeXJMSkJVR19JZml2Zlk5bkEtcS1iMWZDOXlnZVktd0RxNWVjNW94U3diNXMxLXpnQzZCQmVBM1BIcnZNdG9lcUM3OXozUm5DVEFsbzVKeTZaNzVwaUswUGQzb1dOVHRYU05TRVhKMXhIVmZPNGphZS1KWF9YdXlnR1JkV3JJdmZuVEpxWTJrVjdUUVk2ZmcxVWdweEd1YU5kQnJDTjBLTk5QMHZHdFo2VDRBMlp2djBVQURmVlNQcW1CWjFPMWhkUm9sMFIzOGVTZVlsN0s3NWhqcG11d3RxSGYwVElnYjhXeGlaS000WElqT1poRXowVW84RHJIN1J5TmxDeEhXYmhXMmktR2ZPRDgzX1VlQ25MTFpEM0JxVUZGQVVxc2VMdzZnTkxTM29VYnhTQmJrQUR0c0FpSm5ROXVmMEwweFdGTmhYeTVLdXRySGxtQmlSZHVmRUNxRUY4Mzc4OU0tU2ladDFteGNUcXZyZkJTNVdRM0RxUkkzVmlBNjYzblZOdEFGQjBaQjJvSFhYU3NTbks0eTRwdmVRMEpOWTR2YjFCTDlaV0FYZTYxMmNyN0NMblF4U1YxS0FDWXZaVzM1cHpCSG9LNGF1T3hUSlNTWW0yRlFGWXVYaU9BOVVHNkU4QnBwMjRKOWVVV3Fock0tdnRiT2x5eGNkNHBQTXhmbWpobUo5alBoNmtBRFNCRUVMVEdUQzJtd1Ztam8xcUFNQklTTnY4WjBrQ1dCc2ttUHQyc3RWaW9IQnQ1MHM5UFBiQnhiQjN6V2lMMC1tSUNEQjExVXFhNFoyc3Y0MHpxN2N4dU0xcGNhZnFuNzBfWHBMVjVtWExjSmtNX2hyNlYzbFVaVlFTT3ZSdW1lUHNzeFpiYzBjRjNaUEdLLWJZVzBiRkVYWTBKM1RRZnlvTE9ZRzhZM09lZ0RuU0FIUGNTZDNRazR0M3l5MU92RHE0TVcxUFVuVGFqd0hpZlNkckl2ekZmZkx1UE9fSFZxWGZTNS1CU1B5aTB4SVVHRDVuWGhuV0pvMnRKdHJWeFFEY1ZEaU5xT2hNZnZkUmJkVW1lWHB0cnc1d09QRlNUOVFPSXB0Ul9zaW02SG9MWG9pOHdzWW9UTE95U0wzUXZDTHZGTGdpZzNLY21zYURuaklUb1JnOXFYMzJWWi1JR01iandON1hsZDc2Z1l1OHJwenR6bXZVRkcyUlotSFM3anZ6WnM5OWhOUTU4RVBKeXpHWHR2dHZrNVpZZUM1YkpKLW5zMDc3S0lST2RiY2lUOHRrbkVFVE5rTVlZNzJiQ0FKU0c1WVdHMkx2cW9DTXlYRG56aS1oMTRlY0IxdmNFdUV4QnoyQjZBV1ROd3RZVHRKTEYtNnJlOHFXaER5aktKX3pXVDFlcTR6SzJBcXk4bmdYa0EzeDNtRFF5RnBqNmJSNFlXb0piUFpCYTRIbU50YWhnZ2liZjZickFVUHNpLVVmcUJfNDMxMWR5WldFXzdRMHhpelN1WEdQTU15VHdSYklSUFBaTm1HNWk0WGVpS3hZRHNZbGQzb2NoOHdMb01CbUZjS2RZczd2ckVaMVQtdkREQXVVT0RlTlFlUUhFeXltYWtMeWdBUVlLWFZDMmgtazRtZ1M4aTN4dHlkTkFTNmJ0d3hWakZPcVYyWGIzeEpWVXpxcEE5SERKd2VYSlFzUWZjSDB6X2VvQjg0VUxSRDY5UGFaWlhGZHI5N2xDZ3RQVnVRalZYREFuS2J1VzE0V3ctWEYwWlp4MDdWMmVRY3FLVGN5WGI3Y0R6SXV3Y01EcE5xcHQwZks2SEc5cFQ2Vk5SU0tlWkk4czRBQ1RaaXpYUXQxVmR1YTVBYkJ3dkw2c04xbU8ydnFIOXcxOVFKT2FfOHBJZFo1cThUUDUxOEdPM1lrMGlLWHVudnRPbmhfY2pQcnFWYW5udy05Um1iZGE5QzhVcm1qaWVvOXFaOGY4Ni10bFFpZFRpN3FhbjZEQ3hkM3lfOGNHMHZZODRJRHZ6WEs3NzJJTkFxRGRVSXFIVTJEM0ZfT2hzYk5MYngzMjZsaDVSTWhfZkNxUVVzZDBQVTlnRDlBU05vTlA3cVVUV3ozRTcxbFBKdTVUUnJkQ2hhQ2NRem5VTTN4V2hXNUsxUlk4b3d1eFdBV0kxTHllYW4xclBSVlJLTThKQjE0TURqQmZ5OE84cnpFSjlubEtEdkxOYVRPMEJqZHB0NlcyeTBaSmlsdGx0a0lPRklNdkx3eWlfYjJTWDIxbXROVTdSRFdTZV82NTI3UktJSGl6R2RLVzZJaDZQNmhlcUJzLWt4ekQ4Q1FWQ0s1XzdfU2pmNUc3LUk1cnhpNG1RRTV2bnZaRkpOU28yZlJYcWMxSTh2eTFuMFNZd2lDV2ZIcmlwcEtneGJHdUptQ0JKSUltMkpJeTg1YjdaY2dRbXFGQzUwc1ZJcG5oN0tqUDlHRDkxU1VrcmVwUjRhNktTUWNHVXR4M0NvQWRQTFNtdlBWXzdObTJtRGxEcllBal82aXR6MkdaeTkwUWIwRmdlZlAtbzNnbGU2VXJZTnVvU3JLY3dXb2ZRdzFzWlc5WjBaNVJ6N1JNVjBMa2xJVkRVM1AzV0NwVDlxeTdIdUJZRzV3UWdiMmtfakJPWTRxMFlwMXhybXlxSzdNandsMzJaZFJ0T0JjUGszaWppWHlHNVRrUmRpSFZRZjNKX3FoemstbjlJbk5UR2owekpGRllVbXd2NVN6ekZ0bVFyTUpWVzFOeTFlcjNCd0JjSTZObkVoV21VSjl5QVQ0TDBCX1A2NllSOHJVSTV6THhtaXo3cmhEOGZVd0JlQnRZclpIQW5LdTA4QWZxZTdCRDJ3RFVNa0JuVm94dHVlV2JHX3BnNktDUDI3MkhraXVtLVlhdVA0T3JIQkxKalZfR0xNYkdYOFlobGFXcVNZYkFteVZtS2hLNHItVWdaVFo5OEl4WkZzTC1zbDdHR3dEaHh6bEM1c1lJM3BtOE9jUkM3cGNUOS12N21VRlM1dVUwcDhKMDRiZmhVQVl1bjVtZnViU0VaamlGRlhuOHJDSGV2YTgzWE1yNUxUdF9vUDU0bmxmQXdnTHpURFJpYndGMEloQWpiU0FvajhrMjFEVkpGM2xoS2dHcFY5ZzJBWV9JYTg3VzNMRmw4ZTJVWHZhTXRHTEdIb05YOWFJUTJlR0xVdDhXQ1hzbnQ3bGpSb013dkcyemJSRC1jLUVzVWxNeW41UlZJMEdwMVk1Sm1aaXBKdTNkNFI5dzZ3Ylp2ZUNEYXFIdFJSMVMyWGZZZmt1NjRpTnUwTlVwYjJORFN3WkRLTnZpZi1NZllaaldaLUJWV0NTdmZfMXBpajVRdWlFdThqdXRZUi0wN0R5NmpvYjVhSWhZUWNlTFRLdHpCdWFjeXNFT0NmYXR6cWJEcEV3UmtoMjNVSlR4ampYMVFwV3J6aFZmRTZ2SjNhc0Jla002dFo0M2cyc0diX3JwQ2tmdXQxaXhpWjVJNEVNMHF4Yjd4NGtfY1VPT05CUGE2UERyeGFqNEdPcmZxWjIwOFd2QVFpUkc3RWV1SzVMdHB3MVZyMUE3Q0dSTVJMZjNuRTV0SE5FSzZ4VjVEc29ZOE9HcC1DelhhTUpFR0p5LWh1MGRQcUNtTEViZ3paUWRNVzRVNmZLTzRva3BKWlZrWkRZM25BRk51eUw4U2FFOGR6RHBrNENEaWpLcjFER3kxWHB6MGR1ZUUxZlktYXRqMnR3eWhsZHE3UjAxNjdyTUZOMkJ0c3lKVWRRSFQ2NUZ0WWZRRkJsc01HeHVNdnIzaGNoT2JaaVVubkdOQi00LXV1eVl5dFF4eEtock0wZ2FFQWdoeXVabGNoczFpaVRUMUEyYUc1Uzh6RF9yUG5fbng1ZzNUb1dDS2tDMVBSUzF2eFBaaktxdHBOX0JWbk9yTU85YkFoQVZHLWJ2ekI2dFlyMk51YU1pVF9UaHB3ZTUtQ00ydk5EamNZM212bm1pNXptNC04NkpoVVhnaXhsQ0xWa3VWM0VONm5WdHZBOERtbk1PUnJ0a1ZwQmRubkJPVEQycVBRMnVWcFZ3WG0zU256ZDRQV05mU05Keko1My0xQjhkWHJGMi1MbHRTd1o2Q28yeXpWNEI1emVfa3NaTE04aS1ZTHZlTWNudV92cTVEbFJCbVo2QXQtQm95R1Q0eDItMzNJSXJWQ1N5TzlTSFowQTVJYXdmTjlpdEs=)
      flutter: stable
      xcode: latest
      cocoapods: default
    triggering:
      events:
        - push
        - pull_request
      branch_patterns:
        - pattern: master
          include: true
          source: true
        - pattern: develop
          include: true
          source: true
        - pattern: feature/*
          include: true
          source: true
    scripts:
      - |
        # set up debug keystore
        rm -f ~/.android/debug.keystore
        keytool -genkeypair \
          -alias androiddebugkey \
          -keypass android \
          -keystore ~/.android/debug.keystore \
          -storepass android \
          -dname 'CN=Android Debug,O=Android,C=US' \
          -keyalg 'RSA' \
          -keysize 2048 \
          -validity 10000
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - "#!/usr/bin/env sh\n\nset -e # exit on first failed command\n    \nPROJECT_ROOT=$FCI_BUILD_DIR\
        \           # ADD YOUR PROJECT FOLDER PATH HERE\n\necho $ANDROID_FIREBASE_SECRET\
        \ | base64 --decode > $PROJECT_ROOT/android/app/google-services.json\necho\
        \ $IOS_FIREBASE_SECRET | base64 --decode > $PROJECT_ROOT/ios/Runner/GoogleService-Info.plist\n"
      - flutter build apk --debug
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - github@matthiasbruns.com
